fragment ChannelFields on Channel {
  id
  activeVideosCounter
}

fragment ChannelCategoryFields on ChannelCategory {
  id
  activeVideosCounter
}

fragment VideoCategoryFields on VideoCategory {
  id
  activeVideosCounter
}

fragment OwnedNftFields on OwnedNft {
  id
  video {
    id
  }
  ownerMember {
    id
  }
  metadata
  transactionalStatus {
    __typename
  }
  creatorRoyalty
}

fragment VideoFields on Video {
  id
  commentsCount
  reactionsCount

  comments {
    id
    author {
      id
    }
    video {
      id
    }
    text
  }

  reactions {
    id
    reaction
  }
}

fragment VideoCommentFields on Comment {
  id
  author {
    id
  }

  video {
    id
  }

  text
  status

  reactions {
    id
    member {
      id
    }
  }
}

fragment CommentReactionFields on Comment {
  reactions {
    id
    member {
      id
    }
  }
  reactionsCountByReactionId {
    reactionId
    count
  }
}

query getChannels {
  channels {
    ...ChannelFields
  }
}

query getChannelCategories {
  channelCategories {
    ...ChannelCategoryFields
  }
}

query getVideoCategories {
  videoCategories {
    ...VideoCategoryFields
  }
}

query getOwnedNftByVideoId($videoId: ID!) {
  ownedNfts(where: { video: { id_eq: $videoId } }) {
    ...OwnedNftFields
  }
}

# query getCommentsByVideoId($videoId: ID!) {
#   comments(where: { video: { id_eq: $videoId } }) {
#     ...VideoCommentsFields
#   }
# }

query getRootCommentsByVideoId($videoId: ID!) {
  comments(where: { video: { id_eq: $videoId }, parentComment: null }) {
    ...VideoCommentFields
  }
}

query getRepliesByParentCommentId($commentId: ID!) {
  comments(where: { parentComment: { id_eq: $commentId } }) {
    ...VideoCommentFields
  }
}
query getCommentsByIds($ids: [ID!]) {
  comments(where: { id_in: $ids }) {
    ...VideoCommentFields
  }
}

query getReactionsByCommentId($commentId: ID!) {
  commentByUniqueInput(where: { id: $commentId }) {
    ...CommentReactionFields
  }
}
